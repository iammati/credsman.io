import{K as q,u as H,y as W,o as k,c as R,w as V,f as N,a as i,b as m,t as T,d as P,e as I,g as u,F as E,n as j,M as D,N as A}from"./app.94c89ff0.js";import{_ as G}from"./FormSection.5f39b0e6.js";import{_ as U}from"./InputError.784ef562.js";import{_ as B}from"./InputLabel.ef83ebdd.js";import{_ as K}from"./PrimaryButton.b5d9aadf.js";import{_ as L}from"./TextInput.f7dea3f9.js";import{_ as J}from"./_plugin-vue_export-helper.cdc0426e.js";import"./SectionTitle.6b1e5250.js";var F={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(c,b){(function(t,n){c.exports=n()})(q,function(){var t={};t.version="0.2.0";var n=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};t.configure=function(e){var r,s;for(r in e)s=e[r],s!==void 0&&e.hasOwnProperty(r)&&(n[r]=s);return this},t.status=null,t.set=function(e){var r=t.isStarted();e=w(e,n.minimum,1),t.status=e===1?null:e;var s=t.render(!r),l=s.querySelector(n.barSelector),d=n.speed,y=n.easing;return s.offsetWidth,C(function(o){n.positionUsing===""&&(n.positionUsing=t.getPositioningCSS()),a(l,x(e,d,y)),e===1?(a(s,{transition:"none",opacity:1}),s.offsetWidth,setTimeout(function(){a(s,{transition:"all "+d+"ms linear",opacity:0}),setTimeout(function(){t.remove(),o()},d)},d)):setTimeout(o,d)}),this},t.isStarted=function(){return typeof t.status=="number"},t.start=function(){t.status||t.set(0);var e=function(){setTimeout(function(){!t.status||(t.trickle(),e())},n.trickleSpeed)};return n.trickle&&e(),this},t.done=function(e){return!e&&!t.status?this:t.inc(.3+.5*Math.random()).set(1)},t.inc=function(e){var r=t.status;return r?(typeof e!="number"&&(e=(1-r)*w(Math.random()*r,.1,.95)),r=w(r+e,0,.994),t.set(r)):t.start()},t.trickle=function(){return t.inc(Math.random()*n.trickleRate)},function(){var e=0,r=0;t.promise=function(s){return!s||s.state()==="resolved"?this:(r===0&&t.start(),e++,r++,s.always(function(){r--,r===0?(e=0,t.done()):t.set((e-r)/e)}),this)}}(),t.render=function(e){if(t.isRendered())return document.getElementById("nprogress");v(document.documentElement,"nprogress-busy");var r=document.createElement("div");r.id="nprogress",r.innerHTML=n.template;var s=r.querySelector(n.barSelector),l=e?"-100":_(t.status||0),d=document.querySelector(n.parent),y;return a(s,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),n.showSpinner||(y=r.querySelector(n.spinnerSelector),y&&z(y)),d!=document.body&&v(d,"nprogress-custom-parent"),d.appendChild(r),r},t.remove=function(){$(document.documentElement,"nprogress-busy"),$(document.querySelector(n.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&z(e)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var e=document.body.style,r="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return r+"Perspective"in e?"translate3d":r+"Transform"in e?"translate":"margin"};function w(e,r,s){return e<r?r:e>s?s:e}function _(e){return(-1+e)*100}function x(e,r,s){var l;return n.positionUsing==="translate3d"?l={transform:"translate3d("+_(e)+"%,0,0)"}:n.positionUsing==="translate"?l={transform:"translate("+_(e)+"%,0)"}:l={"margin-left":_(e)+"%"},l.transition="all "+r+"ms "+s,l}var C=function(){var e=[];function r(){var s=e.shift();s&&s(r)}return function(s){e.push(s),e.length==1&&r()}}(),a=function(){var e=["Webkit","O","Moz","ms"],r={};function s(o){return o.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(p,f){return f.toUpperCase()})}function l(o){var p=document.body.style;if(o in p)return o;for(var f=e.length,S=o.charAt(0).toUpperCase()+o.slice(1),h;f--;)if(h=e[f]+S,h in p)return h;return o}function d(o){return o=s(o),r[o]||(r[o]=l(o))}function y(o,p,f){p=d(p),o.style[p]=f}return function(o,p){var f=arguments,S,h;if(f.length==2)for(S in p)h=p[S],h!==void 0&&p.hasOwnProperty(S)&&y(o,S,h);else y(o,f[1],f[2])}}();function g(e,r){var s=typeof e=="string"?e:M(e);return s.indexOf(" "+r+" ")>=0}function v(e,r){var s=M(e),l=s+r;g(s,r)||(e.className=l.substring(1))}function $(e,r){var s=M(e),l;!g(e,r)||(l=s.replace(" "+r+" "," "),e.className=l.substring(1,l.length-1))}function M(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function z(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return t})})(F);const O=F.exports;const Q=c=>(D("data-v-01e0bf23"),c=c(),A(),c),X={class:"col-span-6"},Y={class:"flex items-center mt-2"},Z=["src","alt"],ee={class:"ml-4 leading-tight"},te={class:"text-sm text-gray-700"},re={class:"col-span-6 sm:col-span-4"},se=["src","alt"],ne={id:"logo-wrapper"},oe=Q(()=>i("label",{for:"logo",id:"logo-label",class:"mt-1"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},[i("path",{d:"M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z"})]),i("p",{class:"mt-5",style:{"font-size":"1rem"}},[i("span",{class:"underline font-bold text-gray-800"},"Click to upload"),i("span",{class:"text-gray-600"}," or drag and drop ")]),i("p",{class:"mt-1 text-gray-600",style:{"font-size":"14px"}}," Maximum file size is 5 MB. ")],-1)),ae={key:0,className:"w-full bg-gray-200 rounded-full dark:bg-gray-700"},ie=["width"],le={class:"col-span-6 sm:col-span-4"},ue={class:"col-span-6 sm:col-span-4"},ce={__name:"CreateVaultForm",props:{vault:Object},setup(c){var _,x,C;const b=c,t=H({logo:(_=b.vault)==null?void 0:_.logo,name:(x=b.vault)==null?void 0:x.name,url:(C=b.vault)==null?void 0:C.url}),n=()=>{let a="store";b.vault&&(a="update"),t.post(route(`vaults.${a}`,{vault:b.vault}),{forceFormData:!0,errorBag:`${a}Vault`,preserveScroll:!0})},w=a=>{t.logo=a.target.files[0]};return W.Inertia.on("progress",a=>{console.log(a),O.isStarted()&&a.detail.progress.percentage&&O.set(a.detail.progress.percentage/100*.9)}),(a,g)=>(k(),R(G,{onSubmitted:n},{title:V(()=>[N(" Vault Details ")]),description:V(()=>[N(" Create a new vault to collaborate with others on credentials. ")]),form:V(()=>[i("div",X,[m(B,{value:"Vault Owner"}),i("div",Y,[i("img",{class:"object-cover w-12 h-12 rounded-full",src:a.$page.props.user.profile_photo_url,alt:a.$page.props.user.name},null,8,Z),i("div",ee,[i("div",null,T(a.$page.props.user.name),1),i("div",te,T(a.$page.props.user.email),1)])])]),i("div",re,[m(B,{for:"logo",value:"Vault Logo"}),c.vault?(k(),P("img",{key:0,src:`/storage/${c.vault.logo}`,alt:`${c.vault.logo}`,id:"preview"},null,8,se)):I("",!0),i("div",ne,[oe,u(t).progress?(k(),P("div",ae,[i("div",{className:"bg-blue-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full",width:u(t).progress.percentage},T(u(t).progress.percentage)+"%",9,ie)])):I("",!0),i("input",{onInput:g[0]||(g[0]=v=>w(v)),type:"file",name:"logo",id:"logo",class:"w-full mt-1"},null,32)]),m(U,{message:u(t).errors.logo,class:"mt-2"},null,8,["message"])]),i("div",le,[m(B,{for:"name",value:"Vault Name"}),m(L,{id:"name",modelValue:u(t).name,"onUpdate:modelValue":g[1]||(g[1]=v=>u(t).name=v),type:"text",class:"block w-full mt-1",autofocus:""},null,8,["modelValue"]),m(U,{message:u(t).errors.name,class:"mt-2"},null,8,["message"])]),i("div",ue,[m(B,{for:"url",value:"Vault Url"}),m(L,{id:"url",modelValue:u(t).url,"onUpdate:modelValue":g[2]||(g[2]=v=>u(t).url=v),type:"url",class:"block w-full mt-1"},null,8,["modelValue"]),m(U,{message:u(t).errors.url,class:"mt-2"},null,8,["message"])])]),actions:V(()=>[m(K,{class:j({"opacity-25":u(t).processing}),disabled:u(t).processing},{default:V(()=>[c.vault?(k(),P(E,{key:0},[N(" Update ")],64)):(k(),P(E,{key:1},[N(" Create ")],64))]),_:1},8,["class","disabled"])]),_:1}))}},he=J(ce,[["__scopeId","data-v-01e0bf23"]]);export{he as default};
