import{o as d,d as u,a as e,q as w,b as r,g as v,h as g,F as y,w as p,t as $,f,M as k,N,u as T,e as C,n as V}from"./app.94c89ff0.js";import{_ as B}from"./ActionMessage.4508bb41.js";import{_ as P}from"./FormSection.5f39b0e6.js";import{_ as b}from"./PrimaryButton.b5d9aadf.js";import{S as D}from"./SectionBorder.814af01f.js";import{_ as L}from"./InputLabel.ef83ebdd.js";import{_ as E}from"./TextInput.f7dea3f9.js";import{_ as x}from"./SecondaryButton.0f57d940.js";import{_ as S}from"./_plugin-vue_export-helper.cdc0426e.js";import"./SectionTitle.6b1e5250.js";function I(o,t){return d(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12.53 16.28a.75.75 0 01-1.06 0l-7.5-7.5a.75.75 0 011.06-1.06L12 14.69l6.97-6.97a.75.75 0 111.06 1.06l-7.5 7.5z","clip-rule":"evenodd"})])}function M(o,t){return d(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003 3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75 8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z","clip-rule":"evenodd"})])}function j(o,t){return d(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z","clip-rule":"evenodd"})])}class z{constructor(t,s=500){return new Promise((n,l)=>{t.style.removeProperty("display");let c=window.getComputedStyle(t).display;c==="none"&&(c="block"),t.style.display=c;let a=t.offsetHeight;t.style.overflow="hidden",["height","paddingTop","paddingBottom","marginTop","marginBottom"].forEach(i=>t.style[i]=0),t.offsetHeight,t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=s+"ms",t.style.height=a+"px",["padding-top","padding-bottom","margin-top","margin-bottom"].forEach(i=>t.style.removeProperty(i)),window.setTimeout(()=>["height","overflow","transition-duration","transition-property"].forEach(i=>t.style.removeProperty(i)),s),n(!1)})}}class A{constructor(t,s=500,n){return new Promise((l,c)=>{t.style.height=t.offsetHeight+"px",t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=s+"ms",t.offsetHeight,t.style.overflow="hidden",["height","paddingTop","paddingBottom","marginTop","marginBottom"].forEach(a=>t.style[a]=0),window.setTimeout(()=>{t.style.display="none",["height","padding-top","padding-bottom","margin-bottom","overflow","transition-duration","transition-property"].forEach(a=>t.style.removeProperty(a)),l(!1)},s)})}}class H{constructor(t,s=500){return window.getComputedStyle(t).display==="none"?new z(t,s):new A(t,s)}}class F{constructor(t){let s=0,n=0;if(t===void 0)return{top:n,left:s};for(;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)s+=t.offsetLeft-t.scrollLeft,n+=t.offsetTop-t.scrollTop,t=t.offsetParent;return{top:n,left:s}}}const q={class:"accordion"},O={class:"flex"},G={class:"slot"},J={class:"arrow-icon w-full flex justify-end items-center"},K={class:"body hidden"},U={__name:"Accordion",setup(o){const t=s=>{const n=s.currentTarget.nextSibling,l=s.currentTarget.querySelector(".arrow-icon svg");new H(n).finally(()=>{new F(n).top!==0?l.style.transform="rotate(180deg)":l.style.transform=""})};return(s,n)=>(d(),u("div",q,[e("div",{onClick:t,class:"head"},[e("div",O,[e("div",G,[w(s.$slots,"head",{},void 0,!0)]),e("div",J,[r(v(I),{class:"w-5 h-5"})])])]),e("div",K,[w(s.$slots,"body",{},void 0,!0)])]))}},Q=S(U,[["__scopeId","data-v-e694c5d3"]]);const m=o=>(k("data-v-3945161e"),o=o(),N(),o),R={class:"data"},W={class:"font-bold"},X={class:"key flex"},Y=["value"],Z=m(()=>e("span",{class:"icon"}," = ",-1)),tt={class:"value"},et=["data-value"],st={class:"button"},ot=m(()=>e("span",null," Encrypt ",-1)),at={class:"close"},rt=m(()=>e("div",{class:"flex mt-3"},[e("div",{class:"key flex"},[e("input",{id:"key",type:"text",class:"key pl-0",placeholder:"Key / Identifier"}),e("span",{class:"icon"}," = ")]),e("div",{class:"value"},[e("input",{id:"value",type:"text",placeholder:"Value"})])],-1)),nt={__name:"VaultData",props:{vault:Object},setup(o){const t=l=>{const a=l.currentTarget.parentNode.parentNode,i=a.querySelector(".value input"),{value:_}=i.dataset;axios.post(route("vaults.datas.encrypt"),{value:_}).then(h=>{i.value="Value encrypted",a.dataset.state="decrypted"})},s=l=>{const c=l.currentTarget,a=c.parentNode.parentNode,{value:i}=c.dataset;axios.post(route("vaults.datas.decrypt"),{value:i}).then(_=>{const{data:h}=_;c.value=h,a.dataset.state="encrypted"})},n=l=>{};return(l,c)=>(d(!0),u(y,null,g(o.vault.datas,a=>(d(),u(y,{key:a},[e("div",R,[r(Q,null,{head:p(()=>[e("span",W,$(a.group_name),1)]),body:p(()=>[(d(!0),u(y,null,g(JSON.parse(a.fields),i=>(d(),u(y,{key:i},[(d(!0),u(y,null,g(i,(_,h)=>(d(),u("div",{key:h,class:"state flex mt-2","data-state":"decrypted"},[e("div",X,[e("input",{type:"text",value:h,class:"key pl-0"},null,8,Y),Z]),e("div",tt,[e("input",{onClick:s,"data-value":_,type:"text",value:"Value encrypted"},null,8,et)]),e("div",st,[r(x,{onClick:t,"data-value":_},{default:p(()=>[r(v(M),{class:"w-5 h-5 mr-2"}),ot]),_:2},1032,["data-value"])]),e("div",at,[r(v(j),{class:"w-5"})])]))),128)),rt,r(x,{onClick:n,class:"mb-3"},{default:p(()=>[f(" Add field ")]),_:1})],64))),128))]),_:2},1024)]),r(L,{for:"group-name",value:"Group Name",class:"mt-7"}),r(E,{id:"group-name",type:"text",class:"mt-1 block w-full"}),r(b,{class:"mt-4"},{default:p(()=>[f(" Add group ")]),_:1})],64))),128))}},it=S(nt,[["__scopeId","data-v-3945161e"]]),lt={key:0},ct={class:"col-span-6"},wt={__name:"VaultDataManager",props:{vault:Object},setup(o){const t=T({logo:null,name:"",url:""}),s=()=>{};return(n,l)=>o.vault?(d(),u("div",lt,[r(D),r(P,{onSubmitted:s},{title:p(()=>[f(" Vault Data Manager ")]),description:p(()=>[f(" Here you can add vault-related data like credentials for a specific area of this vault. ")]),form:p(()=>[e("div",ct,[r(it,{vault:o.vault},null,8,["vault"])])]),actions:p(()=>[r(B,{on:v(t).recentlySuccessful,class:"mr-3"},{default:p(()=>[f(" Saved. ")]),_:1},8,["on"]),r(b,{class:V({"opacity-25":v(t).processing}),disabled:v(t).processing},{default:p(()=>[f(" Save ")]),_:1},8,["class","disabled"])]),_:1})])):C("",!0)}};export{wt as default};
