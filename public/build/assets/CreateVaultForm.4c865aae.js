import{u as h,o as c,c as k,w as d,f as m,a as s,b as o,d as i,g as t,e as V,t as C,F as b,n as $,K as S,M as B}from"./app.5e4949d9.js";import{_ as F}from"./FormSection.9dd79621.js";import{_ as p}from"./InputError.ae220862.js";import{_ as g}from"./InputLabel.b81c6b48.js";import{_ as z}from"./PrimaryButton.ba0aef49.js";import{_ as y}from"./TextInput.3db28c5a.js";import{d as I}from"./DefaultLogo.ab326eaf.js";import{n as N}from"./Notify.69cdcefa.js";import{_ as H}from"./_plugin-vue_export-helper.cdc0426e.js";import"./SectionTitle.cf065faf.js";const L=a=>(S("data-v-6b02dd76"),a=a(),B(),a),M={class:"col-span-6 sm:col-span-4"},U=["src","alt"],D={id:"logo-wrapper"},j=L(()=>s("label",{for:"logo",id:"logo-label",class:"mt-1"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},[s("path",{d:"M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z"})]),s("p",{class:"mt-5",style:{"font-size":"1rem"}},[s("span",{class:"underline font-bold text-gray-800"},"Click to upload"),s("span",{class:"text-gray-600"}," or drag and drop ")]),s("p",{class:"mt-1 text-gray-600",style:{"font-size":"14px"}}," Maximum file size is 5 MB. ")],-1)),E={key:0,class:"mt-5 w-full bg-gray-200 rounded-full"},T=["width"],K={class:"col-span-6 sm:col-span-4"},O={class:"col-span-6 sm:col-span-4"},q={__name:"CreateVaultForm",props:{vault:Object},setup(a){var f,v,_;const r=a,e=h({logo:(f=r.vault)==null?void 0:f.logo,name:(v=r.vault)==null?void 0:v.name,url:(_=r.vault)==null?void 0:_.url}),w=()=>{let l="store";r.vault&&(l="update"),e.post(route(`vaults.${l}`,{vault:r.vault}),{forceFormData:!0,errorBag:`${l}Vault`,preserveScroll:!0,preserveState:!0,onSuccess:()=>{l==="update"&&N("success","Vault updated","This vault has been successfully updated!")}})},x=l=>{e.logo=l.target.files[0]};return(l,u)=>(c(),k(F,{onSubmitted:w},{title:d(()=>[m(" Vault Details ")]),description:d(()=>[m(" Create a new vault to collaborate with others on credentials. ")]),form:d(()=>[s("div",M,[o(g,{for:"logo",value:"Vault Logo"}),a.vault?(c(),i("img",{key:0,src:a.vault.logo?`/storage/${a.vault.logo}`:t(I)(r),alt:a.vault.logo?`${a.vault.logo}`:"Vault Logo",id:"preview",class:"object-cover rounded-full mt-2"},null,8,U)):V("",!0),s("div",D,[j,t(e).progress?(c(),i("div",E,[s("div",{class:"bg-blue-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full",width:t(e).progress.percentage},C(t(e).progress.percentage)+"% ",9,T)])):V("",!0),s("input",{onInput:u[0]||(u[0]=n=>x(n)),type:"file",name:"logo",id:"logo",class:"w-full mt-1"},null,32)]),o(p,{message:t(e).errors.logo,class:"mt-2"},null,8,["message"])]),s("div",K,[o(g,{for:"name",value:"Vault Name"}),o(y,{id:"name",modelValue:t(e).name,"onUpdate:modelValue":u[1]||(u[1]=n=>t(e).name=n),type:"text",class:"block w-full mt-1",autofocus:""},null,8,["modelValue"]),o(p,{message:t(e).errors.name,class:"mt-2"},null,8,["message"])]),s("div",O,[o(g,{for:"url",value:"Vault Url"}),o(y,{id:"url",modelValue:t(e).url,"onUpdate:modelValue":u[2]||(u[2]=n=>t(e).url=n),type:"url",class:"block w-full mt-1"},null,8,["modelValue"]),o(p,{message:t(e).errors.url,class:"mt-2"},null,8,["message"])])]),actions:d(()=>[o(z,{class:$({"opacity-25":t(e).processing}),disabled:t(e).processing},{default:d(()=>[a.vault?(c(),i(b,{key:0},[m(" Update ")],64)):(c(),i(b,{key:1},[m(" Create ")],64))]),_:1},8,["class","disabled"])]),_:1}))}},ee=H(q,[["__scopeId","data-v-6b02dd76"]]);export{ee as default};
