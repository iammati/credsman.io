import{u as $,y as k,o as c,c as C,w as i,f as m,a as e,b as o,t as g,d,e as b,g as a,F as h,n as B,K as F,M as I}from"./app.e643e729.js";import{_ as z}from"./FormSection.677be715.js";import{_ as f}from"./InputError.a6ef8ea0.js";import{_ as p}from"./InputLabel.ec84f8f3.js";import{_ as S}from"./PrimaryButton.97111ce2.js";import{_ as w}from"./TextInput.e8bdf9a0.js";import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";import"./SectionTitle.413e1bc1.js";const H=l=>(F("data-v-bfe92fca"),l=l(),I(),l),M={class:"col-span-6"},U={class:"flex items-center mt-2"},D=["src","alt"],j={class:"ml-4 leading-tight"},E={class:"text-sm text-gray-700"},L={class:"col-span-6 sm:col-span-4"},O=["src","alt"],K={id:"logo-wrapper"},T=H(()=>e("label",{for:"logo",id:"logo-label",class:"mt-1"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},[e("path",{d:"M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z"})]),e("p",{class:"mt-5",style:{"font-size":"1rem"}},[e("span",{class:"underline font-bold text-gray-800"},"Click to upload"),e("span",{class:"text-gray-600"}," or drag and drop ")]),e("p",{class:"mt-1 text-gray-600",style:{"font-size":"14px"}}," Maximum file size is 5 MB. ")],-1)),q={key:0,class:"mt-5 w-full bg-gray-200 rounded-full"},A=["width"],G={class:"col-span-6 sm:col-span-4"},J={class:"col-span-6 sm:col-span-4"},P={__name:"CreateVaultForm",props:{vault:Object},setup(l){var _,v,V;const n=l,s=$({logo:(_=n.vault)==null?void 0:_.logo,name:(v=n.vault)==null?void 0:v.name,url:(V=n.vault)==null?void 0:V.url}),y=()=>{let t="store";n.vault&&(t="update"),s.post(route(`vaults.${t}`,{vault:n.vault}),{forceFormData:!0,errorBag:`${t}Vault`,preserveScroll:!0})},x=t=>{s.logo=t.target.files[0]};return k.Inertia.on("progress",t=>{console.log(t.detail.progress.percentage)}),(t,r)=>(c(),C(z,{onSubmitted:y},{title:i(()=>[m(" Vault Details ")]),description:i(()=>[m(" Create a new vault to collaborate with others on credentials. ")]),form:i(()=>[e("div",M,[o(p,{value:"Vault Owner"}),e("div",U,[e("img",{class:"object-cover w-12 h-12 rounded-full",src:t.$page.props.user.profile_photo_url,alt:t.$page.props.user.name},null,8,D),e("div",j,[e("div",null,g(t.$page.props.user.name),1),e("div",E,g(t.$page.props.user.email),1)])])]),e("div",L,[o(p,{for:"logo",value:"Vault Logo"}),l.vault?(c(),d("img",{key:0,src:`/storage/${l.vault.logo}`,alt:`${l.vault.logo}`,id:"preview"},null,8,O)):b("",!0),e("div",K,[T,a(s).progress?(c(),d("div",q,[e("div",{class:"bg-blue-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full",width:a(s).progress.percentage},g(a(s).progress.percentage)+"% ",9,A)])):b("",!0),e("input",{onInput:r[0]||(r[0]=u=>x(u)),type:"file",name:"logo",id:"logo",class:"w-full mt-1"},null,32)]),o(f,{message:a(s).errors.logo,class:"mt-2"},null,8,["message"])]),e("div",G,[o(p,{for:"name",value:"Vault Name"}),o(w,{id:"name",modelValue:a(s).name,"onUpdate:modelValue":r[1]||(r[1]=u=>a(s).name=u),type:"text",class:"block w-full mt-1",autofocus:""},null,8,["modelValue"]),o(f,{message:a(s).errors.name,class:"mt-2"},null,8,["message"])]),e("div",J,[o(p,{for:"url",value:"Vault Url"}),o(w,{id:"url",modelValue:a(s).url,"onUpdate:modelValue":r[2]||(r[2]=u=>a(s).url=u),type:"url",class:"block w-full mt-1"},null,8,["modelValue"]),o(f,{message:a(s).errors.url,class:"mt-2"},null,8,["message"])])]),actions:i(()=>[o(S,{class:B({"opacity-25":a(s).processing}),disabled:a(s).processing},{default:i(()=>[l.vault?(c(),d(h,{key:0},[m(" Update ")],64)):(c(),d(h,{key:1},[m(" Create ")],64))]),_:1},8,["class","disabled"])]),_:1}))}},te=N(P,[["__scopeId","data-v-bfe92fca"]]);export{te as default};
